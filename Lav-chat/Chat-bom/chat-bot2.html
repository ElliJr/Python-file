<!DOCTYPE html>
<html>
<head>
  <title>Python in HTML</title>
</head>
<body>
  <h1>Python in HTML</h1>
  <form>
    <input type="text" id="user_input" placeholder="Ask me anything...">
    <button onclick="runPythonCode()">Run Python Code</button>
    <div id="output"></div>
  </form>

  <script src="outtro.py">
    function runPythonCode() {
      var user_input = document.getElementById("user_input").value;
      var python_code = "import requests\nfrom bs4 import BeautifulSoup\n\n" +
                        "def search_web(query):\n" +
                        "  url = 'https://www.google.com/search'\n" +
                        "  params = {'q': query}\n" +
                        "  response = requests.get(url, params=params)\n" +
                        "  soup = BeautifulSoup(response.text, 'html.parser')\n" +
                        "  results = soup.find_all('div', class_='r')\n" +
                        "  for result in results:\n" +
                        "    print(result.text)\n\n" +
                        "search_web('" + user_input + "')";

      // Create a hidden iframe to execute the Python code
      var iframe = document.createElement('iframe');
      iframe.src = 'data:text/html,<html><body><script>' +
                    ' async function runCode() {' +
                    '  var python_code = `' + python_code + '`;' +
                    '  var output = await executePythonCode(python_code);\n' +
                    '  document.getElementById("output").innerHTML = output;\n' +
                    '}<\/script><\/body><\/html>';
      document.body.appendChild(iframe);

      // Use async function to execute the Python code
      iframe.contentWindow.runCode();
    }
  </script>
</body>
</html>